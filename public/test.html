<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="Personal blog web application">
    <link rel="icon" href="/images/icon.png" type="image/png">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Cherish&:wght@400;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="/styles.css">
    <script src="https://kit.fontawesome.com/2b2a3fdf94.js" crossorigin="anonymous"></script>
    <link rel="stylesheet" href="./styles.css">
    <title>A Geek's Burrow | Test</title>
</head>
<body>
    <div class="header-container">
        <div class="header-content">
            <h1 id="header-title">A Geek's Burrow</h1>
    
            <div class="search-bar-container">
                <div class="search-bar">
                    <h4 id="search-bar-placeholder">Search article...</h4>
                    <i class="fa-solid fa-magnifying-glass"></i>
                </div>
            </div>
        </div>
    </div>

    <div class="hero">
        <div class="hero-content">
            <div class="hero-page-summary">
                <h2 class="page-summary">
                    Tech articles
                    Learning tips
                    ... and more
                </h2>
            </div>
            <div class="author-section">
                <img class="author-picture" src="./images/author.jpeg">
                <h4 class="author-summary-title">Meet the Author</h4>
                <p class="author-summary">Luisa Lopes is a Brazilian Computer Scientist, polyglot, bookworm, writer and many other things. She also does not understand why she's writing about herself in third person.</p>
            </div>
        </div>
    </div>

    <hr>

    <main>
        <div class="new-article">
            <button type="button" id="new-article"><i class="fa-solid fa-plus fa-lg"></i></button>
        </div>

        <dialog>
            <form>
                <div class="writing-modal-container">
                    <div class="writing-modal-content">
                        <div class="modal-article-title"><input type="text" id="input-title" placeholder="Title"></input></div>
                        <div class="modal-article-content"><textarea id="input-content" placeholder="Content"></textarea></div>
                        <div class="modal-buttons">
                            <button type="submit" class="publish"><i class="fa-solid fa-upload fa-lg fa-fw"></i></button>
                            <button type="submit" class="save"><i class="fa-solid fa-floppy-disk fa-lg fa-fw"></i></button>
                            <button type="submit" class="delete"><i class="fa-solid fa-trash fa-lg fa-fw"></i></button>
                        </div>
                    </div>
                </div>
            </form>
        </dialog>

        <div id="article-section">
            <article>
                <div class="article-title"><h4>Article Title</h4></div>
                <div class="article-content"><p>Lorem ipsum odor amet, consectetuer adipiscing elit. Duis aenean sollicitudin vel proin eget auctor commodo. Inceptos interdum egestas hac amet cubilia felis praesent. Euismod dui habitasse habitasse cubilia fringilla venenatis. Suscipit morbi vestibulum pellentesque dis vestibulum pulvinar cubilia. Ultrices lobortis euismod inceptos maecenas volutpat torquent enim magna...</p></div>
                <div class="buttons">
                    <button type="button" class="delete"><i class="fa-solid fa-delete-left fa-lg fa-fw"></i></button>
                    <button type="button" class="edit"><i class="fa-solid fa-pen-to-square fa-lg fa-fw"></i></button>
                </div>
            </article>

            <article>
                <div class="article-title"><h4>Article Title</h4></div>
                <div class="article-content"><p>Lorem ipsum odor amet, consectetuer adipiscing elit. Duis aenean sollicitudin vel proin eget auctor commodo. Inceptos interdum egestas hac amet cubilia felis praesent. Euismod dui habitasse habitasse cubilia fringilla venenatis. Suscipit morbi vestibulum pellentesque dis vestibulum pulvinar cubilia. Ultrices lobortis euismod inceptos maecenas volutpat torquent enim magna...</p></div>
                <div class="buttons">
                    <button type="button" class="delete"><i class="fa-solid fa-delete-left fa-lg fa-fw"></i></button>
                    <button type="button" class="edit"><i class="fa-solid fa-pen-to-square fa-lg fa-fw"></i></button>
                </div>
            </article>

            <article>
                <div class="article-title"><h4>Article Title</h4></div>
                <div class="article-content"><p>Lorem ipsum odor amet, consectetuer adipiscing elit. Duis aenean sollicitudin vel proin eget auctor commodo. Inceptos interdum egestas hac amet cubilia felis praesent. Euismod dui habitasse habitasse cubilia fringilla venenatis. Suscipit morbi vestibulum pellentesque dis vestibulum pulvinar cubilia. Ultrices lobortis euismod inceptos maecenas volutpat torquent enim magna...</p></div>
                <div class="buttons">
                    <button type="button" class="delete"><i class="fa-solid fa-delete-left fa-lg fa-fw"></i></button>
                    <button type="button" class="edit"><i class="fa-solid fa-pen-to-square fa-lg fa-fw"></i></button>
                </div>
            </article>

            <div class="options">
                <button type="button" id="previous">Previous</button>
                <button type="button" id="next">Next</button>
            </div>
        </div>
    </main>

    <footer>
        <div class="footer-information">
            <a href="https://github.com/herlocksholmes1888" target="_blank" class="icon" alt="Github icon"><i class="fa-brands fa-github fa-2xl fa-fw"></i></a>
            <a href="https://www.linkedin.com/in/luisa-frugoli-valente-lopes-b5b533231/" target="_blank" class="icon" alt="LinkedIn icon"><i class="fa-brands fa-linkedin fa-2xl fa-fw"></i></a>
            <a href="https://discord.com/users/476894968888295474" target="_blank" class="icon" alt="Discord icon"><i class="fa-brands fa-discord fa-2xl fa-fw"></i></a>
            <a href="mailto:luisafrugoli11@gmail.com" target="_blank" class="icon" alt="Email icon"><i class="fa-solid fa-envelope fa-2xl fa-fw"></i></a>
        </div>

        <div class="copyright-container">
            <text id="copyright">Luisa Lopes &copy; 2024-202X. All rights reserved.</text>
        </div>
    </footer>

    <script>
        /*
            HOW TO MAKE A SIMPLE CRUD:
                1. Add a simple edit modal. You may change it in the future for the prototype's writing page
                2. DOM Manipulation in order to add the input to the page in order
                3. DOM Manipulation in order to remove the input 
                4. DOM Manipulation in order to edit the input

            Afterwards, you learn how to make it so that every change to the web document gets sent to a MongoDB database
        */
        const $modal = document.querySelector("dialog");
        const $form = document.querySelector("form");

        const $newArticleButton = document.getElementById("new-article");

        const $editButtons = document.getElementsByClassName("edit");
        const $publishButtons = document.getElementsByClassName("publish");
        const $saveButtons = document.getElementsByClassName("save");
        const $deleteButtons = document.getElementsByClassName("delete");

        $newArticleButton.onclick = () => {
            $modal.showModal();
        };

        $modal.addEventListener("click", e => {
            const dialogDimensions = $modal.getBoundingClientRect();
            if (
                e.clientX < dialogDimensions.left ||
                e.clientX > dialogDimensions.right ||
                e.clientY < dialogDimensions.top ||
                e.clientY > dialogDimensions.bottom
            ) {
                $modal.close();
            }
        })

        $form.addEventListener("submit", function newArticleController(e) {
            e.preventDefault();

            const $articleSection = document.getElementById("article-section");
            const $inputTitle = document.getElementById("input-title");
            const $inputContent = document.getElementById("input-content");
            
            $articleSection.insertAdjacentHTML("afterbegin", $inputContent.value);
        })

        for (let button of $editButtons) {
            button.onclick = () => {
                $modal.showModal();
            }
        }

        for (let button of $publishButtons) {
            button.onclick = () => {
                $modal.close();
                addNewArticle();
            }
        }

        for (let button of $saveButtons) {
            button.onclick = () => {
                $modal.close();
            }
        }

        for (let button of $deleteButtons) {
            button.onclick = () => {
                $modal.close();
            }
        }
    </script>
</body>
</html>
